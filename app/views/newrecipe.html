<div ng-controller="NewRecipeCtrl as newrecipe">
  <div class="new-recipe">
    <div ng-class="{'status-success': status == 'Recipe added' , 'status-error': status == 'There was an error adding the recipe', 'status-error': status == 'Please give your recipe a name.'} ">
      {{status}}
    </div>
    <form name="addRecipe" ng-submit="submit()">
      <div class="form-group">
        <label for="recipeName" class="recipe-name-label">Recipe Name</label>
        <input type="text" class="form-control" id="recipeName" ng-model="recipe.name" placeholder="Recipe Name" required>
      </div>
      
      <div class="form-group">
        <h1 class="ingredients-h1">Ingredients</h1>
        <div id="ingredients">
          <div class="ingredients-container">
            <div class="add-ingredient">
              <h2>Add Ingredient</h2>
              <div class="form-inline">
                <input type="text" class="form-control amount-input" id="amount" ng-model="newIngredient.amount" placeholder="Amount">
                <input type="text" class="form-control ingredient-name-input" id="ingredientname" ng-model="newIngredient.name" placeholder="Ingredient" typeahead="ingred.name for ingred in ingredients | filter:$viewValue | limitTo:8">
                <button type="button" ng-click="addIngredient()" class="btn btn-primary add-ingredient-btn">Add</button>
              </div>
            </div>
            <ul class="ingredients-list">
              <li class="new-recipe-ingredient" ng-repeat="ingredient in recipe.ingredients">{{ingredient.amount}} {{ingredient.name}} 
                <button type="button" ng-click="removeIngredient($index)" class="delete-ingredient-btn btn btn-danger">X</button></li>
            </ul>
          </div>
        </div>      
      </div>
      
      <div class="form-group">
        <h1 class="steps-h1">Steps</h1>
        <div id="steps">
          <div class="steps-container">
            <div class="add-step">
              <label for="addStep">Add Step</label>
              <textarea class="form-control add-step-textarea" rows="2" id="addStep" ng-model="newStep" placeholder="New Step"></textarea>
              <button type="button" ng-click="addStep()" class="btn btn-primary add-step-btn">Add</button>
            </div>
            <ol class="steps-list">
              <li class="new-recipe-step" ng-repeat="step in recipe.steps">{{step}} 
                <button type="button" ng-click="removeStep($index)" class="delete-step-btn btn btn-danger">X</button></li>
            </ol>
          </div>
        </div>      
      </div>
      <script type="text/ng-template" id="confirmSubmitModal.html">
        <div class="modal-header">
          <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="shareModalLabel">Confirm Submit</h4>
        </div>
        <div class="modal-body">
          Are you sure you're done adding your recipe?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>
          <button type="submit" class="btn btn-success" ng-click="ok()">Submit</button>
        </div>
      </script>
      <button type="button" class="btn btn-success" ng-click="open()">Submit</button>
      
      
    </form>
  </div>
</div>
